# 📊 Skill: 代码审查 (Code Review)

> **技能 ID**: `code-review`
> **触发关键词**: 审查、review、优化、重构

## 1. 技能职责

- 代码质量审查
- 性能优化建议
- 重构方案设计
- 最佳实践指导

## 2. 审查维度

### 2.1 功能正确性

- [ ] 业务逻辑是否正确
- [ ] 边界条件是否处理
- [ ] 异常情况是否考虑

### 2.2 代码质量

- [ ] 命名是否清晰
- [ ] 函数是否单一职责
- [ ] 代码是否重复
- [ ] 注释是否充分

### 2.3 性能

- [ ] 是否有 N+1 查询
- [ ] 是否需要缓存
- [ ] 是否有不必要的循环

### 2.4 安全

- [ ] 是否有 XSS 风险
- [ ] 是否有 SQL 注入风险
- [ ] 权限控制是否完善

## 3. 代码规范

### Java 规范

```java
// 类名：大驼峰
public class UserService { }

// 方法名：小驼峰
public void saveUser() { }

// 常量：全大写 + 下划线
private static final int MAX_RETRY = 3;

// 变量：小驼峰
private String userName;
```

### JavaScript 规范

```javascript
// 函数名：小驼峰
function loadUserData() { }

// 常量：全大写
const MAX_LENGTH = 100;

// 变量：小驼峰
let userName = '';
```

## 4. 常见问题

| 问题 | 建议 |
|------|------|
| 方法过长 | 拆分为多个小方法 |
| 重复代码 | 抽取公共方法 |
| 魔法数字 | 定义常量 |
| 深层嵌套 | 使用早返回 |
| 命名不清 | 使用有意义的名称 |

## 5. 审查输出模板

```markdown
## 📊 代码审查报告

### 文件：`XxxController.java`

#### ✅ 优点
- ...

#### ⚠️ 问题
| 行号 | 问题 | 建议 |
|------|------|------|
| L25 | 魔法数字 | 定义常量 |

#### 💡 优化建议
- ...

### 总结
- 严重问题：0
- 一般问题：2
- 建议：3
```

## 6. 审查检查清单

- [ ] 代码逻辑正确
- [ ] 命名清晰规范
- [ ] 无重复代码
- [ ] 无安全漏洞
- [ ] 性能合理
- [ ] 有必要注释
