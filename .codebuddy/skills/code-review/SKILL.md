---
name: code-review
description: >
  代码质量审查与优化建议。当用户提到审查、review、优化、重构、代码质量、
  性能优化、最佳实践时激活此技能。
---

# 代码审查 (Code Review)

对代码进行系统性审查，识别问题并提供改进建议。

## 审查维度

### 功能正确性
- 业务逻辑是否正确
- 边界条件是否处理
- 异常情况是否考虑

### 代码质量
- 命名是否清晰
- 函数是否单一职责
- 代码是否重复
- 注释是否充分

### 性能
- 是否有 N+1 查询
- 是否需要缓存
- 是否有不必要的循环

### 安全
- 是否有 XSS 风险
- 是否有 SQL 注入风险
- 权限控制是否完善

## 代码规范

### Java

| 类型 | 规范 | 示例 |
|------|------|------|
| 类名 | 大驼峰 | `UserService` |
| 方法名 | 小驼峰 | `saveUser()` |
| 常量 | 全大写+下划线 | `MAX_RETRY` |
| 变量 | 小驼峰 | `userName` |

### JavaScript

| 类型 | 规范 | 示例 |
|------|------|------|
| 函数名 | 小驼峰 | `loadUserData()` |
| 常量 | 全大写 | `MAX_LENGTH` |
| 变量 | 小驼峰 | `userName` |

## 常见问题速查

| 问题 | 建议 |
|------|------|
| 方法过长 | 拆分为多个小方法 |
| 重复代码 | 抽取公共方法 |
| 魔法数字 | 定义常量 |
| 深层嵌套 | 使用早返回 |
| 命名不清 | 使用有意义的名称 |

## 输出格式

```markdown
## 代码审查报告

### 文件：`XxxController.java`

#### ✅ 优点
- [列出做得好的地方]

#### ⚠️ 问题
| 行号 | 问题 | 严重程度 | 建议 |
|------|------|----------|------|
| L25 | 魔法数字 | 低 | 定义常量 |

#### 💡 优化建议
- [改进建议]

### 总结
- 严重问题：0
- 一般问题：2
- 建议：3
```
